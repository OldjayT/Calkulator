<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <title>Калкулатор</title>
    <link rel="stylesheet" href="style4.css">
</head>
<body>
  <div class="calculator">
    <input type="text" id="display" disabled>
       <div class="buttons">
         <button class="clear" onclick="clearDisplay()">AC</button>
          <button class="delete" onclick="deleteLast()">←</button>
          <button class="func" onclick="percent()">%</button>
          <button class="division" onclick="append('/')">÷</button>

          <button onclick="append('7')">7</button>
          <button onclick="append('8')">8</button>
          <button onclick="append('9')">9</button>
          <button class="multiplication" onclick="append('*')">×</button>

          <button onclick="append('4')">4</button>
          <button onclick="append('5')">5</button>
          <button onclick="append('6')">6</button>
          <button class="subtraction" onclick="append('-')">−</button>

          <button onclick="append('1')">1</button>
          <button onclick="append('2')">2</button>
          <button onclick="append('3')">3</button>
          <button class="gathering" onclick="append('+')">+</button>

          <button class="func" onclick="sqrt()">√</button>
          <button onclick="append('0')">0</button>
          <button onclick="append('.')">.</button>                    
          <button class="equal" onclick="calculate()">=</button>
       </div>
    </div>
 <script>
    function append(value) {
        document.getElementById('display').value += value;
      }
      function clearDisplay() {
        document.getElementById('display').value = '';
      }
      function deleteLast() {
        let display = document.getElementById('display');
        display.value = display.value.slice(0, -1);
      }
      function calculate() {
        try {
          const result = eval(document.getElementById('display').value);
          document.getElementById('display').value = result;
         } catch (error) {
           document.getElementById('display').value = "Грешка";
        }
      }
      function percent() {
        const display = document.getElementById('display');
        let value = parseFloat(display.value);    
        if (!isNaN(value)) {
            display.value = value / 100;      
        }
      }
      function sqrt() {
         const display = document.getElementById('display');
         let value = parseFloat(display.value);
         if (!isNaN(value)) {
         display.value = Math.sqrt(value);
      }  
   }
 </script>
</body>
</html>